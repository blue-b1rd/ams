doctype html
html
  head
    title #{title}
    include includes/head_html.pug
    link(rel='stylesheet', href='../assets/libs/fortawesome/fontawesome-free/css/all.min.css')
  body.bg-section-secondary
    .preloader
      .spinner-border.text-primary(role='status')
        span.sr-only Loading...
    include includes/header_private.pug
    if userInfo.securityRole.includes("teacher")
      include includes/disciplines_for_teacher.pug
    else if userInfo.securityRole.includes("student")
      include includes/disciplines_for_student.pug
    else
      section.slice.py-5.bg-section-secondary(style="min-height: 580px")
        .container
          .row
            .col-md-3
              .mb-4
                include includes/filter_disciplines.pug
            .col-md-9
              .row.align-items-center.mb-4
                .col
                  .input-group.input-group-merge
                    input#search.form-control.form-control-prepend(type='text', name="search", placeholder='Поиск по дисциплинам')
                    .input-group-prepend
                        span.input-group-text
                          i(data-feather='search')
              .row.align-items-center.mb-4
                .col
                  h1.h5.mb-0 Дисциплины
                if userInfo.securityRole.includes("superadmin") || userInfo.securityRole.includes("teacher")
                  a(href="/disciplines/create/")  
                    .col-auto
                      button.btn.btn-sm.btn-primary.btn-icon(type='button')
                        span.btn-inner--text Новая дисциплина
                        span.btn-inner--icon
                          i(data-feather='plus')
              .row.mx-n2
                each disc in disciplines 
                  .col-sm-6.col-lg-4.px-2
                    .card.mb-3(style="min-width: 175px; min-height: 150px")
                      a.action-item.mr-2(href=urlDiscDetail+disc.allias+"/")
                        .card-header.pb-3
                          .d-flex.justify-content-between.align-items-center
                            div
                              h6.mb-0 #{disc.mnemo}
                        .card-body.pt-0
                          .mt-1
                            p.mb-0.text-sm.text-muted #{disc.name}
                          .mt-1
                            for group in disc.groupsInfo
                              p.badge.badge-primary.badge-pill.mb-2.text-center  #{group.fullname}
                              label(hidden="true") #{group.typeEducation}, #{group.course} курс
                else 
                  p Дисциплин пока ещё нет.
    include includes/footer.pug 
    script(src="../../../../disciplines_search.js" type="text/javascript")
    script(src="../../../../disciplines_filter.js" type="text/javascript")
    script(src='../assets/libs/jquery/dist/jquery.min.js')
    script(src='../assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js')
    script(src='../assets/libs/svg-injector/dist/svg-injector.min.js')
    script(src='../assets/libs/feather-icons/dist/feather.min.js')
    script(src='../assets/libs/in-view/dist/in-view.min.js')
    script(src='../assets/libs/sticky-kit/dist/sticky-kit.min.js')
    script(src='../assets/libs/imagesloaded/imagesloaded.pkgd.min.js')
    script(src='../assets/libs/progressbar.js/dist/progressbar.min.js')
    script(src='../assets/js/quick-website.js')
    script.
      feather.replace({
      width: "1em",
      height: "1em"
      })
    include includes/yandex_metrika.pug
